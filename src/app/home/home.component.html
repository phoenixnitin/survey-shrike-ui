<div class="container">
<div class="card bg-light">
  <article *ngIf="auth.user$ | async as user; else checking" class="card-body mx-auto" style="max-width: 400px;">
    <h3 class="card-title mt-3 text-center">Welcome<br><span *ngIf="user.displayName && user.displayName.length > 0; else showuser">{{user.displayName}}</span>
      <ng-template #showuser><span>User</span></ng-template></h3><br><br>
    <h5 class="card-title mt-3 text-center">Your email is : {{user.email}}</h5>
  </article>
  <ng-template #checking>
    <article *ngIf="auth.checking; else signup" class="card-body mx-auto" style="max-width: 400px;">
      <h5 class="card-title mt-3 text-center">Checking login status. Please wait <i class="fa fa-spinner fa-spin"></i></h5>
    </article>
  </ng-template>
  <ng-template #signup>
    <article class="card-body mx-auto" style="max-width: 400px;">
      <p>
        <a (click)="auth.googleSignin()" class="btn btn-block btn-google"> <i class="fa fa-google"></i>   Login via Google</a>
        <a (click)="auth.facebookSignin()" class="btn btn-block btn-facebook"> <i class="fa fa-facebook-f"></i>   Login via facebook</a>
      </p>
      <p class="divider-text">
        <span class="bg-light">OR</span>
      </p>
      <form (ngSubmit)="auth.emailcreateaccount()" id="signup-form">
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text text-center d-block"> <i class="fa fa-user"></i> </span>
          </div>
          <input name="userName" class="form-control" placeholder="Name" type="text" [(ngModel)]="config.displayName" required>
        </div>
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text text-center d-block"> <i class="fa fa-envelope"></i> </span>
          </div>
          <input name="userEmail" class="form-control" placeholder="Email address" type="email" [(ngModel)]="config.userEmail" required>
        </div>
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text text-center d-block"> <i class="fa fa-lock"></i> </span>
          </div>
          <input name="currUserPass" class="form-control" placeholder="Create password" type="password" [(ngModel)]="config.userCurrentPass" required>
        </div>
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text text-center d-block"> <i class="fa fa-lock"></i> </span>
          </div>
          <input name="repeatPass" class="form-control" placeholder="Repeat password" type="password" [(ngModel)]="config.userRepeatPass" required>
        </div>
        <p *ngIf="config.userCurrentPass != config.userRepeatPass" class="red"><i>* Passwords do not match</i></p>
        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-block"> Create Account  </button>
        </div> <!-- form-group// -->
        <p class="text-center">Have an account? <a><button class="btn btn-primary btn-sm" (click)="showLogin()">Sign In</button></a> </p>
      </form>

      <form (ngSubmit)="auth.emailsignin()" id="signin-form" class="hide">
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text text-center d-block"> <i class="fa fa-envelope"></i> </span>
          </div>
          <input name="userEmail" class="form-control" placeholder="Email address" type="email" [(ngModel)]="config.userEmail" required>
        </div>
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text text-center d-block"> <i class="fa fa-lock"></i> </span>
          </div>
          <input name="currUserPass" class="form-control" placeholder="Password" type="password" [(ngModel)]="config.userCurrentPass" required>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-block"> Sign In </button>
        </div>
        <p class="text-center">Don't have an account? <a><button class="btn btn-primary btn-sm" (click)="showSignup()">Create Account</button></a> </p>
      </form>
    </article>
  </ng-template>
</div> <!-- card.// -->

</div>
